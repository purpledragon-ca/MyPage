<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Projects · Your Name</title>

  <!-- Styles: shared theme + projects page -->
  <link rel="stylesheet" href="../css/theme.css"/>
  <link rel="stylesheet" href="../css/projects.css"/>
</head>
<body class="site page-projects">
  <!-- Optional: header/footer injected via include.js -->
  <div data-include="../partials/header.html"></div>

  <main class="section" id="projects">
    <div class="wrap">
      <h2 class="gallery-title"><span>Projects</span></h2>
      <p class="gallery-note">Filter by difficulty and skill.（You can jump to the project page from SkillTree with ?skill=）</p>

      <!-- Filter controls -->
      <div class="pfilters">
        <div class="pf-group">
          <span class="pf-label">Level:</span>
          <button class="chip pf-level is-active" data-level="all">All</button>
          <button class="chip pf-level" data-level="junior">Beginner</button>
          <button class="chip pf-level" data-level="mid">Mid</button>
          <button class="chip pf-level" data-level="advanced">Advanced</button>
        </div>
        <div class="pf-group">
          <span class="pf-label">Skill:</span>
          <span class="pf-skill-current" data-skill="">— none —</span>
          <button class="chip pf-clear-skill" hidden>Clear</button>
        </div>
      </div>

      <!-- Card grid: populated dynamically -->
      <section class="pgrid" id="pgrid">
        <p class="muted">Loading projects...</p>
      </section>
    </div>
  </main>

  <div data-include="../partials/footer.html"></div>

  <!-- include.js loads header/footer (optional) -->
  <script src="../js/include.js"></script>
  
  <!-- Firebase SDK (v9 compat mode for easier migration) -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
  
  <!-- Firebase configuration -->
  <script src="../js/firebase-config.js"></script>
  
  <!-- Likes functionality (now with Firebase support) -->
  <script src="../js/likes.js"></script>
  
  <!-- Load filtering logic first so it is ready to listen for events -->
  <script src="../js/projects.js"></script>
  <!-- Then load the project list script which dispatches events when ready -->
  <script src="../js/load_projects.js"></script>
</body>
</html>
